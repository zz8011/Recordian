# Preset 优化设计文档

**日期**: 2026-02-25
**目标**: 参考 default preset 优化其他 preset，提升规则详细程度和输出质量一致性

## 背景

当前项目有 5 个 preset 文件：
- `default.md`: 36 行，包含 6 大类详细规则
- `formal.md`: 10 行，规则较简单
- `technical.md`: 11 行，规则较简单
- `meeting.md`: 11 行，规则较简单
- `summary.md`: 8 行，规则较简单
- `code-comment.md`: 10 行，规则较简单

default preset 的详细规则体系能够为 LLM 提供明确的处理指引，提升输出质量。其他 preset 需要参考这种详细程度进行优化。

## 设计目标

1. 为每个 preset 建立完整的规则体系
2. 保持各 preset 的特色定位不变
3. 提升输出质量和一致性
4. 让 LLM 有更明确的处理指引

## 设计方案

### 整体架构

每个 preset 包含以下 6 大类规则：

1. **去除语气词和重复词**（通用基础规则）
2. **标点符号使用规则**（通用基础规则）
3. **阿拉伯数字判断规则**（通用基础规则）
4. **场景特定规则**（各 preset 独有）
5. **分段和格式规则**（根据场景调整）
6. **输出要求**（通用基础规则）

### 详细程度标准

- 每个 preset 约 20-25 行
- 6 大类规则框架
- 每类规则 2-3 条核心说明
- 比 default（36 行）稍精简，但比原版（8-11 行）详细很多

## 各 Preset 优化内容

### 1. formal.md - 正式书面语预设

**特色定位**: 将口语转换为正式书面语

**核心规则**:
- 去除口语化表达（语气词、重复词、口语词汇）
- 标点符号规范使用
- 数字智能判断（数据用阿拉伯数字，正式场合可用中文大写）
- 书面语转换（正式词汇、避免缩略语、专业得体语气）
- 逻辑分段
- 只输出结果

### 2. technical.md - 技术文档预设

**特色定位**: 整理为技术文档风格

**核心规则**:
- 去除语气词和重复词
- 标点符号规范（列表项使用分号或句号）
- 数字和技术符号（版本号、参数用阿拉伯数字，保留代码格式）
- 技术文档风格（准确术语、结构清晰、突出关键步骤）
- 按技术流程分段
- 只输出结果

### 3. meeting.md - 会议纪要预设

**特色定位**: 整理为会议纪要格式

**核心规则**:
- 去除语气词，保留关键信息
- 标点符号统一
- 时间、日期、数量用阿拉伯数字
- 会议纪要格式（条目列表、突出决策和行动项、客观专业）
- 要点提炼（核心内容、待办事项、背景信息）
- 只输出结果

### 4. summary.md - 简洁总结预设

**特色定位**: 提取核心信息

**核心规则**:
- 去除冗余内容，只保留核心信息
- 简洁标点
- 关键数据用阿拉伯数字
- 总结提炼（高度浓缩、单一主题用一句话、多要点用列表）
- 输出格式（简短文本一句话、较长文本 2-5 个要点）
- 只输出结果，不加前缀

### 5. code-comment.md - 代码注释预设

**特色定位**: 整理为代码注释风格

**核心规则**:
- 去除语气词和口语化表达
- 标点符号（简短注释可省略句号）
- 所有数字用阿拉伯数字
- 代码注释风格（简洁技术语言、准确术语、突出关键逻辑）
- 简洁性要求（精简、一句话说清、去除修饰词）
- 只输出内容，不加注释符号

## 实施计划

1. 更新 `presets/formal.md`
2. 更新 `presets/technical.md`
3. 更新 `presets/meeting.md`
4. 更新 `presets/summary.md`
5. 更新 `presets/code-comment.md`
6. 运行测试验证效果

## 预期效果

- 每个 preset 都有明确的处理标准
- LLM 能够更准确地理解和执行各场景的要求
- 输出质量更加一致和可预测
- 保持各 preset 的特色定位清晰
